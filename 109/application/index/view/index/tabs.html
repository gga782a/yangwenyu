<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width; initial-scale=1.0" />
    <link rel="stylesheet" href="css/style.css" />
    <meta charset="utf-8" />
    <title>选项卡</title>
    <link rel="stylesheet" href="css/reset.css" type="text/css" />
    <link rel="stylesheet" href="css/style.css" type="text/css" />
    <link rel="stylesheet" href="css/three.css" type="text/css" />
    <link rel="stylesheet" href="dist/css/swiper.min.css">
    <link rel="stylesheet" href="layui/css/layui.css" type="text/css" />
    <style>
        .shopListext {
            width:7.5rem;
        }
        .shopListBox a {
            color: #000;
        }
        .shopListImg {
            height: 2.2rem;
        }
        .hide{
            display: none;
        }
        .show{
            display: block;
        }
        .two .li{
            width:50%;
        }
    </style>
</head>

<body style="background-color: #F4F4F4;">
    <div class="shopTop clearfixed">
        <div class="li blackImg"><img src="img/black.png" alt=""></div>
        <div class="topTitle li">选项卡</div>
    </div>
    <div class="tabsTop">
        <div class="clearfixed two">
            <div class="li active">
                <div class="tabBtn" onclick="tabs(this)" data-idx="0">我的会员卡</div>
            </div>
            <div class="li">
                <div class="tabBtn" onclick="tabs(this)" data-idx="1">我的储值卡</div>
            </div>
        </div>
    </div>
    <div class="tabbodys">
        <div class="shopListBox">
            <div class="dl top">
                <a href="#">
                <div class="dt clearfixed">
                    <div class="li shopListImg">
                        <img src="img/rule_popups.png" alt="">
                    </div>
                    <div class="shopListext li">
                        <div class="shopListname ellipsis">商店名字</div>
                        <div class="shopListnum clearfixed">
                            <div class="li">会员卡</div>
                        </div>
                        <div class="clearfixed">
                            <div class="clearfixed li shopListTime redT">
                                <div class="li">地址:</div>
                                <div class="li">哈尔滨市香坊区</div>
                            </div>
                            
                        </div>
                        <div class="shopListnum clearfixed">
                            <div class="li">商家电话:</div>
                            <div class="li ellipsis">13216489756</div>
                        </div>
                    </div>
                </div>
                </a>
            </div>
            <div class="dl top">
                <a href="#">
                <div class="dt clearfixed">
                    <div class="li shopListImg">
                        <img src="img/rule_popups.png" alt="">
                    </div>
                    <div class="shopListext li">
                        <div class="shopListname ellipsis">商店名字:</div>
                        <div class="shopListnum clearfixed">
                            <div class="li">会员卡</div>
                        </div>
                        <div class="clearfixed">
                            <div class="clearfixed li shopListTime redT">
                                <div class="li">地址:</div>
                                <div class="li">哈尔滨市香坊区</div>
                            </div>
                            
                        </div>
                        <div class="shopListnum clearfixed">
                            <div class="li">商家电话:</div>
                            <div class="li ellipsis">13216489756</div>
                        </div>
                    </div>
                </div>
                </a>
            </div>
        </div>
        <div class="shopListBox hide">
            <div class="dl top">
                <a href="#">
                <div class="dt clearfixed">
                    <div class="li shopListImg">
                        <img src="img/rule_popups.png" alt="">
                    </div>
                    <div class="shopListext li">
                        <div class="shopListname ellipsis">商店名字</div>
                        <div class="shopListnum clearfixed">
                            <div class="li">余额</div>
                            <div class="li ellipsis">1</div>
                        </div>
                        <div class="clearfixed">
                            <div class="clearfixed li shopListTime redT">
                                <div class="li">地址:</div>
                                <div class="li">哈尔滨市香坊区</div>
                            </div>
                            
                        </div>
                        <div class="shopListnum clearfixed">
                            <div class="li">商家电话:</div>
                            <div class="li ellipsis">13216489756</div>
                            <div class="li fr gray">距离<span>3.4</span>km</div>
                        </div>
                    </div>
                </div>
                </a>
            </div>
            <div class="dl top">
                <a href="#">
                <div class="dt clearfixed">
                    <div class="li shopListImg">
                        <img src="img/rule_popups.png" alt="">
                    </div>
                    <div class="shopListext li">
                        <div class="shopListname ellipsis">商店名字:</div>
                        <div class="shopListnum clearfixed">
                            <div class="li">余额:</div>
                            <div class="li ellipsis">1</div>
                        </div>
                        <div class="clearfixed">
                            <div class="clearfixed li shopListTime redT">
                                <div class="li">地址:</div>
                                <div class="li">哈尔滨市香坊区</div>
                            </div>
                            
                        </div>
                        <div class="shopListnum clearfixed">
                            <div class="li">商家电话:</div>
                            <div class="li ellipsis">13216489756</div>
                            <div class="li fr gray">距离<span>3.4</span>km</div>
                        </div>
                    </div>
                </div>
                </a>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/awardRotate.js"></script>
    <script type="text/javascript" src="js/rem.js"></script>
    <script type="text/javascript" src="layui/layui.js"></script>
    <script src="dist/js/swiper.min.js"></script>
    <script>
    // 返回
    function go() {
        window.history.go(-1);
    }
    // swiper
    var swiper = new Swiper('.swiper-container', {
      pagination: {
        el: '.swiper-pagination',
      },
    });
    $(function() {
        var height = $('.footerBtn').outerHeight()
        $('.empty').height(height)
        var he = $('._popups').height()
        $('._popups').css({
            'margin-top': -he / 2
        })
        //地址
        var shopL = $('.address .dl .dt').height()
        $('.address .dl .dd .li').css({
            "height":shopL,
            "line-height":shopL+'px'
        })
        // 底部
        var footerEm = $('.footer').height()
        $('.footerEm').height(footerEm)
    })
    //图片加载
    var imgLen = $('.canvasImg img')
    for (var i = 0; i < imgLen.length; i++) {
        var id = 'indexRain' + i
        var img = document.getElementById(id);
        var src = img.getAttribute('src');
        img.setAttribute('src', '');
        img.onload = function() {
            counter = counter + 1
            if (counter == imgLen.length) {
                drawRouletteWheel();
            }
        };
        img.setAttribute('src', src);
    }
    // 弹窗
    function popups(e) {
        var cl = $(e).attr('data-class')
        $('#' + cl).show()
        $('.mask').show()
    }

    function close_popups(e) {
        var cl = $(e).attr('data-class')
        $('.' + cl).hide()
        $('.mask').hide()
    }
    //滑动
    sweiperPage('dt');
    var touchNum = 0;
    function sweiperPage(name) {
        var startX = 0;
        var startY = 0;
        var end = 0;
        $('.' + name).off('touchstart').on('touchstart', function(e) {
            var touch = e.originalEvent.targetTouches[0];
            startY = touch.pageY
            startX = touch.pageX
        });
        $('.' + name).off('touchmove').on('touchmove', function(e) {
            var that = $(this);
            var touch = e.originalEvent.targetTouches[0];
            endY = touch.pageY;
            endX = touch.pageX;
            distanceX = endX - startX;
            distanceY = endY - startY;
            if (Math.abs(distanceY) < Math.abs(distanceX) && distanceY < 0) {
                console.log(endX - startX)
                if (endX - startX < -50) {
                    touchNum ++
                    if (touchNum == 1) {
                        sideslip(that)
                    }
                    
                }else if (endX - startX > 50) {
                    touchNum ++
                    if (touchNum == 1) {
                        sideslipRight(that)
                    }
                }
            }

        });
    }
    function sideslip(that){
        var left = that.siblings('.dd').width()
        that.parent().animate({
            "margin-left":-left
        },200,function(){
            touchNum = 0;
        });
        
    }
    function sideslipRight(that){
        that.parent().animate({
            "margin-left":"0"
        },200,function(){
            touchNum = 0;
        });
        
    }
    // tab
    function tabs(e){
        var idx = $(e).attr('data-idx')
        $('.tabbodys').find('.shopListBox').eq(idx).addClass('show')
        $('.tabbodys').find('.shopListBox').eq(idx).removeClass('hide')
        $('.tabbodys').find('.shopListBox').eq(idx).siblings().removeClass('show')
        $('.tabbodys').find('.shopListBox').eq(idx).siblings().addClass('hide')
    }
    </script>
</body>

</html>